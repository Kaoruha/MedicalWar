(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{"60d4":function(t,e,o){"use strict";var n=o("9d62"),r=o.n(n);r.a},6606:function(t,e,o){},"72e0":function(t,e,o){"use strict";var n=o("6606"),r=o.n(n);r.a},"89cb":function(t,e,o){"use strict";var n=o("970b"),r=o.n(n),a=o("5bc3"),s=o.n(a),i=o("ed6d"),c=o.n(i),l=o("2d0d"),p=o.n(l),u=o("a417"),_="api/game",d=function(t){c()(o,t);var e=p()(o);function o(){return r()(this,o),e.call(this,_,3e3)}return s()(o,[{key:"Create",value:function(t,e){return this.post("/register",{name:t,description:e})}},{key:"Filter",value:function(t,e){return this.post("/filter",{start_row:0,count:2e3,account_filter:t,sort_by:"id",descending:e})}},{key:"Delete",value:function(t){return this.post("/delete",{uid:t})}},{key:"Submit",value:function(t,e,o,n){return this.post("/submit",{game_id:t,company_id:e,rounds:o,data:n})}},{key:"GetCompanyData",value:function(t,e,o){return this.post("/get_com_data",{game_id:t,company_id:e,rounds:o})}},{key:"GetCompanyInfo",value:function(t,e){return this.post("/get_com_info",{game_id:t,rounds:e})}},{key:"GetGameInfo",value:function(t){return this.post("/get_game_info",{game_id:t})}},{key:"Next",value:function(t,e){return this.post("/next",{game_id:t,data:e})}},{key:"Start",value:function(t,e){return this.post("/start",{game_id:t,data:e})}},{key:"QueryByUUID",value:function(t){return this.post("/query_by_uuid",{uuid:t})}}]),o}(u["a"]);e["a"]=new d},"8a6d":function(t,e,o){"use strict";o.r(e);var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"container"},[o("h4",[t._v("Game Host")]),o("q-card",{staticClass:"my-card"},[o("q-img",{attrs:{src:"https://cdn.quasar.dev/img/parallax2.jpg"}},[o("div",{staticClass:"absolute-bottom"},[o("div",{staticClass:"text-h6"},[t._v(t._s(t.game_name))]),o("div",{staticClass:"text-subtitle2"},[t._v("Current Round ："+t._s(t.rounds))]),o("div",{staticClass:"text-subtitle2"},[t._v("Player Round ："+t._s(t.player_rounds))])])]),o("q-card-actions",[o("q-btn",{staticStyle:{width:"120px"},attrs:{flat:"",color:"light-blue",disabled:!t.is_ok_to_start()},on:{click:t.start_this_round}},[t._v("开始当前回合")]),o("q-btn",{staticStyle:{width:"120px"},attrs:{disabled:!t.is_ok_to_commit(),color:"primary"},on:{click:t.next}},[t._v("提交策略")])],1)],1),o("q-table",{staticClass:"ComInfo",attrs:{title:"Company Info",data:t.data,columns:t.columns,"row-key":"id",pagination:t.pagination,loading:t.loading,filter:t.filter,"binary-state-sort":""},on:{"update:pagination":function(e){t.pagination=e},request:t.onRequest},scopedSlots:t._u([{key:"body",fn:function(e){return[o("q-tr",{attrs:{props:e}},[o("q-td",{key:"name",attrs:{props:e}},[t._v(t._s(e.row.name))]),o("q-td",{key:"capital",attrs:{props:e}},[t._v("\n          "+t._s(e.row.capital)+"\n          "),o("q-popup-edit",{attrs:{title:"调整总资金",buttons:"",persistent:""},model:{value:e.row.description,callback:function(o){t.$set(e.row,"description",o)},expression:"props.row.description"}},[o("q-input",{attrs:{type:"number",dense:"",autofocus:"",hint:"Use buttons to close"},model:{value:e.row.capital,callback:function(o){t.$set(e.row,"capital",o)},expression:"props.row.capital"}})],1)],1),o("q-td",{key:"hc_limit",attrs:{props:e}},[t._v("\n          "+t._s(e.row.hc_limit)+"\n          "),o("q-popup-edit",{attrs:{title:"调整可分配人数",buttons:"",persistent:""},model:{value:e.row.hc_limit,callback:function(o){t.$set(e.row,"hc_limit",o)},expression:"props.row.hc_limit"}},[o("q-input",{attrs:{type:"number",dense:"",autofocus:"",hint:"Use buttons to close"},model:{value:e.row.hc_limit,callback:function(o){t.$set(e.row,"hc_limit",o)},expression:"props.row.hc_limit"}})],1)],1),o("q-td",{key:"hc_price",attrs:{props:e}},[t._v("\n          "+t._s(e.row.hc_price)+"\n          "),o("q-popup-edit",{attrs:{title:"人力成本",buttons:"",persistent:""},model:{value:e.row.hc_price,callback:function(o){t.$set(e.row,"hc_price",o)},expression:"props.row.hc_price"}},[o("q-input",{attrs:{type:"number",dense:"",autofocus:"",hint:"Use buttons to close"},model:{value:e.row.hc_price,callback:function(o){t.$set(e.row,"hc_price",o)},expression:"props.row.hc_price"}})],1)],1),o("q-td",{key:"channel_price",attrs:{props:e}},[t._v("\n          "+t._s(e.row.channel_price)+"\n          "),o("q-popup-edit",{attrs:{title:"调整渠道牌价格",buttons:"",persistent:""},model:{value:e.row.channel_price,callback:function(o){t.$set(e.row,"channel_price",o)},expression:"props.row.channel_price"}},[o("q-input",{attrs:{type:"number",dense:"",autofocus:"",hint:"Use buttons to close"},model:{value:e.row.channel_price,callback:function(o){t.$set(e.row,"channel_price",o)},expression:"props.row.channel_price"}})],1)],1),o("q-td",{key:"channel",attrs:{props:e}},[t._v("\n          "+t._s(e.row.channel)+"\n          "),o("q-popup-edit",{attrs:{title:"调整渠道牌剩余数量",buttons:"",persistent:""},model:{value:e.row.channel,callback:function(o){t.$set(e.row,"channel",o)},expression:"props.row.channel"}},[o("q-input",{attrs:{type:"number",dense:"",autofocus:"",hint:"Use buttons to close"},model:{value:e.row.channel,callback:function(o){t.$set(e.row,"channel",o)},expression:"props.row.channel"}})],1)],1),o("q-td",{key:"permission_price",attrs:{props:e}},[t._v("\n          "+t._s(e.row.permission_price)+"\n          "),o("q-popup-edit",{attrs:{title:"调整准入牌价格",buttons:"",persistent:""},model:{value:e.row.permission_price,callback:function(o){t.$set(e.row,"permission_price",o)},expression:"props.row.permission_price"}},[o("q-input",{attrs:{type:"number",dense:"",autofocus:"",hint:"Use buttons to close"},model:{value:e.row.permission_price,callback:function(o){t.$set(e.row,"permission_price",o)},expression:"props.row.permission_price"}})],1)],1),o("q-td",{key:"permission",attrs:{props:e}},[t._v("\n          "+t._s(e.row.permission)+"\n          "),o("q-popup-edit",{attrs:{title:"调整准入牌剩余数量",buttons:"",persistent:""},model:{value:e.row.permission,callback:function(o){t.$set(e.row,"permission",o)},expression:"props.row.permission"}},[o("q-input",{attrs:{type:"number",dense:"",autofocus:"",hint:"Use buttons to close"},model:{value:e.row.permission,callback:function(o){t.$set(e.row,"permission",o)},expression:"props.row.permission"}})],1)],1),o("q-td",{key:"info_price",attrs:{props:e}},[t._v("\n          "+t._s(e.row.info_price)+"\n          "),o("q-popup-edit",{attrs:{title:"调整信息牌价格",buttons:"",persistent:""},model:{value:e.row.info_price,callback:function(o){t.$set(e.row,"info_price",o)},expression:"props.row.info_price"}},[o("q-input",{attrs:{type:"number",dense:"",autofocus:"",hint:"Use buttons to close"},model:{value:e.row.info_price,callback:function(o){t.$set(e.row,"info_price",o)},expression:"props.row.info_price"}})],1)],1),o("q-td",{key:"info",attrs:{props:e}},[t._v("\n          "+t._s(e.row.info)+"\n          "),o("q-popup-edit",{attrs:{title:"调整信息牌剩余数量",buttons:"",persistent:""},model:{value:e.row.info,callback:function(o){t.$set(e.row,"info",o)},expression:"props.row.info"}},[o("q-input",{attrs:{type:"number",dense:"",autofocus:"",hint:"Use buttons to close"},model:{value:e.row.info,callback:function(o){t.$set(e.row,"info",o)},expression:"props.row.info"}})],1)],1),o("q-td",{key:"profit",attrs:{props:e}},[t._v("\n          "+t._s(e.row.profit)+"\n          "),o("q-popup-edit",{attrs:{title:"调整营收",buttons:"",persistent:""},model:{value:e.row.profit,callback:function(o){t.$set(e.row,"profit",o)},expression:"props.row.profit"}},[o("q-input",{attrs:{type:"number",dense:"",autofocus:"",hint:"Use buttons to close"},model:{value:e.row.profit,callback:function(o){t.$set(e.row,"profit",o)},expression:"props.row.profit"}})],1)],1),o("q-td",{key:"last_profit",attrs:{props:e}},[t._v(t._s(e.row.last_profit))]),o("q-td",{key:"total_profit",attrs:{props:e}},[t._v(t._s(e.row.total_profit))]),o("q-td",{key:"profit_change",attrs:{props:e}},[t._v(t._s(e.row.profit_change))]),o("q-td",{key:"profit_change_ratio",attrs:{props:e}},[t._v(t._s(e.row.profit_change_ratio))]),o("q-td",{key:"vbp_price",attrs:{props:e}},[t._v("\n          "+t._s(e.row.vbp_price)+"\n          "),o("q-popup-edit",{attrs:{title:"调整VBP价格",buttons:"",persistent:""},model:{value:e.row.vbp_price,callback:function(o){t.$set(e.row,"vbp_price",o)},expression:"props.row.vbp_price"}},[o("q-input",{attrs:{type:"number",dense:"",autofocus:"",hint:"Use buttons to close"},model:{value:e.row.vbp_price,callback:function(o){t.$set(e.row,"vbp_price",o)},expression:"props.row.vbp_price"}})],1)],1),o("q-td",{key:"vbp_share",attrs:{props:e}},[t._v("\n          "+t._s(e.row.vbp_share)+"\n          "),o("q-popup-edit",{attrs:{title:"调整VBP",buttons:"",persistent:""},model:{value:e.row.vbp_share,callback:function(o){t.$set(e.row,"vbp_share",o)},expression:"props.row.vbp_share"}},[o("q-input",{attrs:{type:"number",dense:"",autofocus:"",hint:"Use buttons to close"},model:{value:e.row.vbp_share,callback:function(o){t.$set(e.row,"vbp_share",o)},expression:"props.row.vbp_share"}})],1)],1),o("q-td",{key:"a_cost",attrs:{props:e}},[t._v("\n          "+t._s(e.row.a_cost)+"\n          "),o("q-popup-edit",{attrs:{title:"调整产品A成本",buttons:"",persistent:""},model:{value:e.row.vbpa_cost_share,callback:function(o){t.$set(e.row,"vbpa_cost_share",o)},expression:"props.row.vbpa_cost_share"}},[o("q-input",{attrs:{type:"number",dense:"",autofocus:"",hint:"Use buttons to close"},model:{value:e.row.a_cost,callback:function(o){t.$set(e.row,"a_cost",o)},expression:"props.row.a_cost"}})],1)],1),o("q-td",{key:"b_cost",attrs:{props:e}},[t._v("\n          "+t._s(e.row.b_cost)+"\n          "),o("q-popup-edit",{attrs:{title:"调整产品B成本",buttons:"",persistent:""},model:{value:e.row.b_cost,callback:function(o){t.$set(e.row,"b_cost",o)},expression:"props.row.b_cost"}},[o("q-input",{attrs:{type:"number",dense:"",autofocus:"",hint:"Use buttons to close"},model:{value:e.row.b_cost,callback:function(o){t.$set(e.row,"b_cost",o)},expression:"props.row.b_cost"}})],1)],1),o("q-td",{key:"c_cost",attrs:{props:e}},[t._v("\n          "+t._s(e.row.c_cost)+"\n          "),o("q-popup-edit",{attrs:{title:"调整产品C成本",buttons:"",persistent:""},model:{value:e.row.c_cost,callback:function(o){t.$set(e.row,"c_cost",o)},expression:"props.row.c_cost"}},[o("q-input",{attrs:{type:"number",dense:"",autofocus:"",hint:"Use buttons to close"},model:{value:e.row.c_cost,callback:function(o){t.$set(e.row,"c_cost",o)},expression:"props.row.c_cost"}})],1)],1),o("q-td",{key:"total_investment",attrs:{props:e}},[t._v("\n          "+t._s(e.row.total_investment)+"\n          "),o("q-popup-edit",{attrs:{title:"调整总资金投入",buttons:"",persistent:""},model:{value:e.row.total_investment,callback:function(o){t.$set(e.row,"total_investment",o)},expression:"props.row.total_investment"}},[o("q-input",{attrs:{type:"number",dense:"",autofocus:"",hint:"Use buttons to close"},model:{value:e.row.total_investment,callback:function(o){t.$set(e.row,"total_investment",o)},expression:"props.row.total_investment"}})],1)],1),o("q-td",{key:"total_cost",attrs:{props:e}},[t._v("\n          "+t._s(e.row.total_cost)+"\n          "),o("q-popup-edit",{attrs:{title:"调整总生产成本",buttons:"",persistent:""},model:{value:e.row.total_cost,callback:function(o){t.$set(e.row,"total_cost",o)},expression:"props.row.total_cost"}},[o("q-input",{attrs:{type:"number",dense:"",autofocus:"",hint:"Use buttons to close"},model:{value:e.row.total_cost,callback:function(o){t.$set(e.row,"total_cost",o)},expression:"props.row.total_cost"}})],1)],1)],1)]}}])}),t._l(4,(function(e){return o("q-expansion-item",{key:"md-"+e,attrs:{"expand-separator":"",icon:"perm_identity",label:t.company_name[e-1],caption:t.is_company_checked[e-1].check?"确认":"未确认"}},[o("q-card",[o("q-card-section",[o("div",{staticClass:"row q-col-gutter-md"},[o("div",{staticClass:"col-12"},[o("Strategy",{attrs:{company_id:t.company_ids[e-1],company_name:t.company_name[e-1],url:t.uuid[e-1]},on:{company_check:t.company_check}})],1)])])],1)],1)})),o("div",{staticClass:"com_strategy"}),o("q-dialog",{attrs:{persistent:""},model:{value:t.is_commit_show,callback:function(e){t.is_commit_show=e},expression:"is_commit_show"}},[o("q-card",{staticStyle:{"min-width":"350px"}},[o("q-card-section",[o("div",{staticClass:"text-h6"},[t._v("确认提交")])]),o("q-card-section",{staticClass:"q-pt-none del-dialog"},[o("p",{staticClass:"msg"},[t._v("Do you really want to delete")]),o("p",{staticClass:"name"},[t._v(t._s(this.game_name)+"?")])]),o("q-card-actions",{staticClass:"text-primary",attrs:{align:"right"}},[o("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancel"}}),o("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",color:"red",label:"Delete"},on:{click:t.next}})],1)],1)],1)],2)},r=[],a=(o("99af"),o("4de4"),o("4160"),o("caad"),o("fb6a"),o("4e82"),o("a434"),o("b0c0"),o("a9e3"),o("2532"),o("159b"),o("448a")),s=o.n(a),i=o("89cb"),c=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("q-table",{staticClass:"my-sticky-virtscroll-table",attrs:{"virtual-scroll":"","rows-per-page-options":[0],"virtual-scroll-sticky-size-start":48,title:t.company_name,data:t.data,columns:t.columns,"row-key":"id",pagination:t.pagination,loading:t.loading,filter:t.filter,"binary-state-sort":""},on:{"update:pagination":function(e){t.pagination=e},request:t.onRequest},scopedSlots:t._u([{key:"top-right",fn:function(){return[t._v("\n      "+t._s(t.url)+"\n      "),o("q-btn",{staticClass:"btn-add",attrs:{color:"primary",rounded:"",icon:"done",label:t.is_company_checked?"Checked":"Check"},on:{click:t.all_check}})]},proxy:!0},{key:"body",fn:function(e){return[o("q-tr",{attrs:{props:e}},[o("q-tooltip",{attrs:{anchor:"top left",self:"top middle",offset:[10,10]}},[o("strong",[t._v(t._s(e.row.name))]),o("br"),o("em",[t._v(t._s(e.row.operation_count))])]),o("q-td",{key:"name",attrs:{props:e}},[t._v(t._s(e.row.name))]),o("q-td",{key:"operation_count",attrs:{props:e}},[t._v("\n          "+t._s(e.row.operation_count)+"\n          "),o("q-popup-edit",{attrs:{title:"调整年手术台数",buttons:"",persistent:""},model:{value:e.row.description,callback:function(o){t.$set(e.row,"description",o)},expression:"props.row.description"}},[o("q-input",{attrs:{type:"number",dense:"",autofocus:"",hint:"Use buttons to close"},model:{value:e.row.operation_count,callback:function(o){t.$set(e.row,"operation_count",o)},expression:"props.row.operation_count"}})],1)],1),o("q-td",{key:"current_operation_count",attrs:{props:e}},[t._v("\n          "+t._s(e.row.current_operation_count)+"\n          "),o("q-popup-edit",{attrs:{title:"调整本轮台数",buttons:"",persistent:""},model:{value:e.row.current_operation_count,callback:function(o){t.$set(e.row,"current_operation_count",o)},expression:"props.row.current_operation_count"}},[o("q-input",{attrs:{type:"number",dense:"",autofocus:"",hint:"Use buttons to close"},model:{value:e.row.current_operation_count,callback:function(o){t.$set(e.row,"current_operation_count",o)},expression:"props.row.current_operation_count"}})],1)],1),o("q-td",{key:"last_operation_count",attrs:{props:e}},[t._v(t._s(e.row.last_operation_count))]),o("q-td",{key:"operation_count_change",attrs:{props:e}},[t._v(t._s(e.row.operation_count_change))]),o("q-td",{key:"operation_count_change_ratio",attrs:{props:e}},[t._v(t._s(e.row.operation_count_change_ratio))]),o("q-td",{key:"hc_sensitivity",attrs:{props:e}},[t._v("\n          "+t._s(e.row.hc_sensitivity)+"\n          "),o("q-popup-edit",{attrs:{title:"调整HC敏感度",buttons:"",persistent:""},model:{value:e.row.hc_sensitivity,callback:function(o){t.$set(e.row,"hc_sensitivity",o)},expression:"props.row.hc_sensitivity"}},[o("q-input",{attrs:{type:"number",dense:"",autofocus:"",hint:"Use buttons to close"},model:{value:e.row.hc_sensitivity,callback:function(o){t.$set(e.row,"hc_sensitivity",o)},expression:"props.row.hc_sensitivity"}})],1)],1),o("q-td",{key:"advertising_sensitivity",attrs:{props:e}},[t._v("\n          "+t._s(e.row.advertising_sensitivity)+"\n          "),o("q-popup-edit",{attrs:{title:"调整市场敏感度",buttons:"",persistent:""},model:{value:e.row.advertising_sensitivity,callback:function(o){t.$set(e.row,"advertising_sensitivity",o)},expression:"props.row.advertising_sensitivity"}},[o("q-input",{attrs:{type:"number",dense:"",autofocus:"",hint:"Use buttons to close"},model:{value:e.row.advertising_sensitivity,callback:function(o){t.$set(e.row,"advertising_sensitivity",o)},expression:"props.row.advertising_sensitivity"}})],1)],1),o("q-td",{key:"price_sensitivity",attrs:{props:e}},[t._v("\n          "+t._s(e.row.price_sensitivity)+"\n          "),o("q-popup-edit",{attrs:{title:"调整价格敏感度",buttons:"",persistent:""},model:{value:e.row.price_sensitivity,callback:function(o){t.$set(e.row,"price_sensitivity",o)},expression:"props.row.price_sensitivity"}},[o("q-input",{attrs:{type:"number",dense:"",autofocus:"",hint:"Use buttons to close"},model:{value:e.row.price_sensitivity,callback:function(o){t.$set(e.row,"price_sensitivity",o)},expression:"props.row.price_sensitivity"}})],1)],1),o("q-td",{key:"share",attrs:{props:e}},[t._v("\n          "+t._s(e.row.share)+"\n          "),o("q-popup-edit",{attrs:{title:"调整份额",buttons:"",persistent:""},model:{value:e.row.share,callback:function(o){t.$set(e.row,"share",o)},expression:"props.row.share"}},[o("q-input",{attrs:{type:"number",dense:"",autofocus:"",hint:"Use buttons to close"},model:{value:e.row.share,callback:function(o){t.$set(e.row,"share",o)},expression:"props.row.share"}})],1)],1),o("q-td",{key:"share_visibility",attrs:{props:e}},[t._v("\n          "+t._s(e.row.share_visibility)+"\n          "),o("q-popup-edit",{attrs:{title:"份额可见",buttons:"",persistent:""},model:{value:e.row.share_visibility,callback:function(o){t.$set(e.row,"share_visibility",o)},expression:"props.row.share_visibility"}},[o("q-input",{attrs:{type:"number",dense:"",autofocus:"",hint:"Use buttons to close"},model:{value:e.row.share_visibility,callback:function(o){t.$set(e.row,"share_visibility",o)},expression:"props.row.share_visibility"}})],1)],1),o("q-td",{key:"total_share",attrs:{props:e}},[t._v("\n          "+t._s(e.row.total_share)+"\n          "),o("q-popup-edit",{attrs:{title:"总份额",buttons:"",persistent:""},model:{value:e.row.total_share,callback:function(o){t.$set(e.row,"total_share",o)},expression:"props.row.total_share"}},[o("q-input",{attrs:{type:"number",dense:"",autofocus:"",hint:"Use buttons to close"},model:{value:e.row.total_share,callback:function(o){t.$set(e.row,"total_share",o)},expression:"props.row.total_share"}})],1)],1),o("q-td",{key:"last_share",attrs:{props:e}},[t._v("\n          "+t._s(e.row.last_share)+"\n          "),o("q-popup-edit",{attrs:{title:"上轮份额",buttons:"",persistent:""},model:{value:e.row.last_share,callback:function(o){t.$set(e.row,"last_share",o)},expression:"props.row.last_share"}},[o("q-input",{attrs:{type:"number",dense:"",autofocus:"",hint:"Use buttons to close"},model:{value:e.row.last_share,callback:function(o){t.$set(e.row,"last_share",o)},expression:"props.row.last_share"}})],1)],1),o("q-td",{key:"share_change",attrs:{props:e}},[t._v("\n          "+t._s(e.row.share_change)+"\n          "),o("q-popup-edit",{attrs:{title:"份额增长净值",buttons:"",persistent:""},model:{value:e.row.share_change,callback:function(o){t.$set(e.row,"share_change",o)},expression:"props.row.share_change"}},[o("q-input",{attrs:{type:"number",dense:"",autofocus:"",hint:"Use buttons to close"},model:{value:e.row.share_change,callback:function(o){t.$set(e.row,"share_change",o)},expression:"props.row.share_change"}})],1)],1),o("q-td",{key:"share_change_ratio",attrs:{props:e}},[t._v("\n          "+t._s(e.row.share_change_ratio)+"\n          "),o("q-popup-edit",{attrs:{title:"份额增长比例",buttons:"",persistent:""},model:{value:e.row.share_change_ratio,callback:function(o){t.$set(e.row,"share_change_ratio",o)},expression:"props.row.share_change_ratio"}},[o("q-input",{attrs:{type:"number",dense:"",autofocus:"",hint:"Use buttons to close"},model:{value:e.row.share_change_ratio,callback:function(o){t.$set(e.row,"share_change_ratio",o)},expression:"props.row.share_change_ratio"}})],1)],1),o("q-td",{key:"hc",attrs:{props:e}},[t._v("\n          "+t._s(e.row.hc)+"\n          "),o("q-popup-edit",{attrs:{title:"调整当前HC",buttons:"",persistent:""},model:{value:e.row.hc,callback:function(o){t.$set(e.row,"hc",o)},expression:"props.row.hc"}},[o("q-input",{attrs:{type:"number",dense:"",autofocus:"",hint:"Use buttons to close"},model:{value:e.row.hc,callback:function(o){t.$set(e.row,"hc",o)},expression:"props.row.hc"}})],1)],1),o("q-td",{key:"hc_low_limit",attrs:{props:e}},[t._v("\n          "+t._s(e.row.hc_low_limit)+"\n          "),o("q-popup-edit",{attrs:{title:"调整HC上限",buttons:"",persistent:""},model:{value:e.row.hc_low_limit,callback:function(o){t.$set(e.row,"hc_low_limit",o)},expression:"props.row.hc_low_limit"}},[o("q-input",{attrs:{type:"number",dense:"",autofocus:"",hint:"Use buttons to close"},model:{value:e.row.hc_low_limit,callback:function(o){t.$set(e.row,"hc_low_limit",o)},expression:"props.row.hc_low_limit"}})],1)],1),o("q-td",{key:"advertising",attrs:{props:e}},[t._v("\n          "+t._s(e.row.advertising)+"\n          "),o("q-popup-edit",{attrs:{title:"调整市场费用",buttons:"",persistent:""},model:{value:e.row.advertising,callback:function(o){t.$set(e.row,"advertising",o)},expression:"props.row.advertising"}},[o("q-input",{attrs:{type:"number",dense:"",autofocus:"",hint:"Use buttons to close"},model:{value:e.row.advertising,callback:function(o){t.$set(e.row,"advertising",o)},expression:"props.row.advertising"}})],1)],1),o("q-td",{key:"a_price",attrs:{props:e}},[t._v("\n          "+t._s(e.row.a_price)+"\n          "),o("q-popup-edit",{attrs:{title:"产品A价格",buttons:"",persistent:""},model:{value:e.row.a_price,callback:function(o){t.$set(e.row,"a_price",o)},expression:"props.row.a_price"}},[o("q-input",{attrs:{type:"number",dense:"",autofocus:"",hint:"Use buttons to close"},model:{value:e.row.a_price,callback:function(o){t.$set(e.row,"a_price",o)},expression:"props.row.a_price"}})],1)],1),o("q-td",{key:"a_mean",attrs:{props:e}},[t._v("\n          "+t._s(e.row.a_mean)+"\n          "),o("q-popup-edit",{attrs:{title:"调整产品A均价",buttons:"",persistent:""},model:{value:e.row.a_mean,callback:function(o){t.$set(e.row,"a_mean",o)},expression:"props.row.a_mean"}},[o("q-input",{attrs:{type:"number",dense:"",autofocus:"",hint:"Use buttons to close"},model:{value:e.row.a_mean,callback:function(o){t.$set(e.row,"a_mean",o)},expression:"props.row.a_mean"}})],1)],1),o("q-td",{key:"a_share",attrs:{props:e}},[t._v("\n          "+t._s(e.row.a_share)+"\n          "),o("q-popup-edit",{attrs:{title:"调整产品A份额",buttons:"",persistent:""},model:{value:e.row.a_share,callback:function(o){t.$set(e.row,"a_share",o)},expression:"props.row.a_share"}},[o("q-input",{attrs:{type:"number",dense:"",autofocus:"",hint:"Use buttons to close"},model:{value:e.row.a_share,callback:function(o){t.$set(e.row,"a_share",o)},expression:"props.row.a_share"}})],1)],1),o("q-td",{key:"b_price",attrs:{props:e}},[t._v("\n          "+t._s(e.row.b_price)+"\n          "),o("q-popup-edit",{attrs:{title:"调整产品B价格",buttons:"",persistent:""},model:{value:e.row.b_price,callback:function(o){t.$set(e.row,"b_price",o)},expression:"props.row.b_price"}},[o("q-input",{attrs:{type:"number",dense:"",autofocus:"",hint:"Use buttons to close"},model:{value:e.row.b_price,callback:function(o){t.$set(e.row,"b_price",o)},expression:"props.row.b_price"}})],1)],1),o("q-td",{key:"b_mean",attrs:{props:e}},[t._v("\n          "+t._s(e.row.b_mean)+"\n          "),o("q-popup-edit",{attrs:{title:"调整产品B均价",buttons:"",persistent:""},model:{value:e.row.b_mean,callback:function(o){t.$set(e.row,"b_mean",o)},expression:"props.row.b_mean"}},[o("q-input",{attrs:{type:"number",dense:"",autofocus:"",hint:"Use buttons to close"},model:{value:e.row.b_mean,callback:function(o){t.$set(e.row,"b_mean",o)},expression:"props.row.b_mean"}})],1)],1),o("q-td",{key:"b_share",attrs:{props:e}},[t._v("\n          "+t._s(e.row.b_share)+"\n          "),o("q-popup-edit",{attrs:{title:"调整产品B份额",buttons:"",persistent:""},model:{value:e.row.b_share,callback:function(o){t.$set(e.row,"b_share",o)},expression:"props.row.b_share"}},[o("q-input",{attrs:{type:"number",dense:"",autofocus:"",hint:"Use buttons to close"},model:{value:e.row.b_share,callback:function(o){t.$set(e.row,"b_share",o)},expression:"props.row.b_share"}})],1)],1),o("q-td",{key:"c_price",attrs:{props:e}},[t._v("\n          "+t._s(e.row.c_price)+"\n          "),o("q-popup-edit",{attrs:{title:"调整产品C价格",buttons:"",persistent:""},model:{value:e.row.c_price,callback:function(o){t.$set(e.row,"c_price",o)},expression:"props.row.c_price"}},[o("q-input",{attrs:{type:"number",dense:"",autofocus:"",hint:"Use buttons to close"},model:{value:e.row.c_price,callback:function(o){t.$set(e.row,"c_price",o)},expression:"props.row.c_price"}})],1)],1),o("q-td",{key:"c_mean",attrs:{props:e}},[t._v("\n          "+t._s(e.row.c_mean)+"\n          "),o("q-popup-edit",{attrs:{title:"调整产品C均价",buttons:"",persistent:""},model:{value:e.row.c_mean,callback:function(o){t.$set(e.row,"c_mean",o)},expression:"props.row.c_mean"}},[o("q-input",{attrs:{type:"number",dense:"",autofocus:"",hint:"Use buttons to close"},model:{value:e.row.c_mean,callback:function(o){t.$set(e.row,"c_mean",o)},expression:"props.row.c_mean"}})],1)],1),o("q-td",{key:"c_share",attrs:{props:e}},[t._v("\n          "+t._s(e.row.c_share)+"\n          "),o("q-popup-edit",{attrs:{title:"调整产品C份额",buttons:"",persistent:""},model:{value:e.row.c_share,callback:function(o){t.$set(e.row,"c_share",o)},expression:"props.row.c_share"}},[o("q-input",{attrs:{type:"number",dense:"",autofocus:"",hint:"Use buttons to close"},model:{value:e.row.c_share,callback:function(o){t.$set(e.row,"c_share",o)},expression:"props.row.c_share"}})],1)],1),o("q-td",{key:"hc_strategy",attrs:{props:e}},[t._v("\n          "+t._s(e.row.hc_strategy)+"\n          "),o("q-popup-edit",{attrs:{title:"调整HC决策",buttons:"",persistent:""},model:{value:e.row.hc_strategy,callback:function(o){t.$set(e.row,"hc_strategy",o)},expression:"props.row.hc_strategy"}},[o("q-input",{attrs:{type:"number",dense:"",autofocus:"",hint:"Use buttons to close"},model:{value:e.row.hc_strategy,callback:function(o){t.$set(e.row,"hc_strategy",o)},expression:"props.row.hc_strategy"}})],1)],1),o("q-td",{key:"advertising_strategy",attrs:{props:e}},[t._v("\n          "+t._s(e.row.advertising_strategy)+"\n          "),o("q-popup-edit",{attrs:{title:"调整市场决策",buttons:"",persistent:""},model:{value:e.row.advertising_strategy,callback:function(o){t.$set(e.row,"advertising_strategy",o)},expression:"props.row.advertising_strategy"}},[o("q-input",{attrs:{type:"number",dense:"",autofocus:"",hint:"Use buttons to close"},model:{value:e.row.advertising_strategy,callback:function(o){t.$set(e.row,"advertising_strategy",o)},expression:"props.row.advertising_strategy"}})],1)],1),o("q-td",{key:"a_strategy",attrs:{props:e}},[t._v("\n          "+t._s(e.row.a_strategy)+"\n          "),o("q-popup-edit",{attrs:{title:"调整产品A价格决策",buttons:"",persistent:""},model:{value:e.row.a_strategy,callback:function(o){t.$set(e.row,"a_strategy",o)},expression:"props.row.a_strategy"}},[o("q-input",{attrs:{type:"number",dense:"",autofocus:"",hint:"Use buttons to close"},model:{value:e.row.a_strategy,callback:function(o){t.$set(e.row,"a_strategy",o)},expression:"props.row.a_strategy"}})],1)],1),o("q-td",{key:"b_strategy",attrs:{props:e}},[t._v("\n          "+t._s(e.row.b_strategy)+"\n          "),o("q-popup-edit",{attrs:{title:"调整产品B价格决策",buttons:"",persistent:""},model:{value:e.row.b_strategy,callback:function(o){t.$set(e.row,"b_strategy",o)},expression:"props.row.b_strategy"}},[o("q-input",{attrs:{type:"number",dense:"",autofocus:"",hint:"Use buttons to close"},model:{value:e.row.b_strategy,callback:function(o){t.$set(e.row,"b_strategy",o)},expression:"props.row.b_strategy"}})],1)],1),o("q-td",{key:"c_strategy",attrs:{props:e}},[t._v("\n          "+t._s(e.row.c_strategy)+"\n          "),o("q-popup-edit",{attrs:{title:"调整产品C价格决策",buttons:"",persistent:""},model:{value:e.row.a_strategy,callback:function(o){t.$set(e.row,"a_strategy",o)},expression:"props.row.a_strategy"}},[o("q-input",{attrs:{type:"number",dense:"",autofocus:"",hint:"Use buttons to close"},model:{value:e.row.c_strategy,callback:function(o){t.$set(e.row,"c_strategy",o)},expression:"props.row.c_strategy"}})],1)],1),o("q-td",{key:"channel",attrs:{props:e}},[t._v("\n          "+t._s(e.row.channel)+"\n          "),o("q-popup-edit",{attrs:{title:"调整渠道牌",buttons:"",persistent:""},model:{value:e.row.channel,callback:function(o){t.$set(e.row,"channel",o)},expression:"props.row.channel"}},[o("q-input",{attrs:{type:"number",dense:"",autofocus:"",hint:"Use buttons to close"},model:{value:e.row.channel,callback:function(o){t.$set(e.row,"channel",o)},expression:"props.row.channel"}})],1)],1),o("q-td",{key:"permission",attrs:{props:e}},[t._v("\n          "+t._s(e.row.permission)+"\n          "),o("q-popup-edit",{attrs:{title:"调整准入牌",buttons:"",persistent:""},model:{value:e.row.permission,callback:function(o){t.$set(e.row,"permission",o)},expression:"props.row.permission"}},[o("q-input",{attrs:{type:"number",dense:"",autofocus:"",hint:"Use buttons to close"},model:{value:e.row.permission,callback:function(o){t.$set(e.row,"permission",o)},expression:"props.row.permission"}})],1)],1),o("q-td",{key:"info",attrs:{props:e}},[t._v("\n          "+t._s(e.row.info)+"\n          "),o("q-popup-edit",{attrs:{title:"调整信息牌",buttons:"",persistent:""},model:{value:e.row.info,callback:function(o){t.$set(e.row,"info",o)},expression:"props.row.info"}},[o("q-input",{attrs:{type:"number",dense:"",autofocus:"",hint:"Use buttons to close"},model:{value:e.row.info,callback:function(o){t.$set(e.row,"info",o)},expression:"props.row.info"}})],1)],1)],1)]}}])})],1)},l=[],p=(o("b680"),{name:"host_strategy",props:{url:{type:String,default:"uuid2url"},company_id:{type:String,default:"a"},company_name:{type:String,default:"Company X"}},data:function(){return{game_id:1,rounds:1,is_company_checked:!1,filter:"",loading:!1,pagination:{sortBy:"id",descending:!1,page:1,rowsPerPage:0,rowsNumber:10},columns:[{name:"name",required:!0,label:"医院名称",align:"left",field:function(t){return t.name},style:"width: 10px",headerStyle:"width: 10px",format:function(t){return"".concat(t)},sortable:!0},{name:"operation_count",required:!0,label:"年手术台数",align:"left",field:function(t){return t.account},style:"width:100px",format:function(t){return"".concat(t)},sortable:!1},{name:"current_operation_count",required:!0,label:"本轮台数",align:"left",field:function(t){return t.current_operation_count},style:"width:100px",format:function(t){return"".concat(t)},sortable:!1},{name:"last_operation_count",required:!0,label:"上轮台数",align:"left",field:function(t){return t.last_operation_count},style:"width:100px",format:function(t){return"".concat(t)},sortable:!1},{name:"operation_count_change",required:!0,label:"台数增长净值",align:"left",field:function(t){return t.operation_count_change},style:"width:100px",format:function(t){return"".concat(t)},sortable:!1},{name:"operation_count_change_ratio",required:!0,label:"台数增长比例",align:"left",field:function(t){return t.operation_count_change_ratio},style:"width:100px",format:function(t){return"".concat(t)},sortable:!1},{name:"hc_sensitivity",required:!1,label:"HC敏感度",align:"left",field:function(t){return t.hc_sensitivity},style:"width:100px",format:function(t){return"".concat(t)},sortable:!1},{name:"advertising_sensitivity",required:!1,label:"市场敏感度",align:"left",field:function(t){return t.advertising_sensitivity},style:"width:100px",format:function(t){return"".concat(t)},sortable:!1},{name:"price_sensitivity",required:!0,label:"价格敏感度",align:"left",field:function(t){return t.price_sensitivity},style:"width:200px",format:function(t){return"".concat(t)},sortable:!0},{name:"share",required:!0,label:"份额",align:"left",field:function(t){return t.share},style:"width:200px",format:function(t){return"".concat(t)},sortable:!0},{name:"share_visibility",required:!0,label:"份额可见",align:"left",field:function(t){return t.share_visibility},style:"width:200px",format:function(t){return"".concat(t)},sortable:!0},{name:"total_share",required:!0,label:"总份额",align:"left",field:function(t){return t.total_share},style:"width:200px",format:function(t){return"".concat(t)},sortable:!0},{name:"last_share",required:!0,label:"上轮份额",align:"left",field:function(t){return t.last_share},style:"width:200px",format:function(t){return"".concat(t)},sortable:!0},{name:"share_change",required:!0,label:"份额增长净值",align:"left",field:function(t){return t.share_change},style:"width:200px",format:function(t){return"".concat(t)},sortable:!0},{name:"share_change_ratio",required:!0,label:"份额增长比例",align:"left",field:function(t){return t.share_change_ratio},style:"width:200px",format:function(t){return"".concat(t)},sortable:!0},{name:"hc",required:!0,label:"当前HC",align:"left",field:function(t){return t.hc},style:"width:200px",format:function(t){return"".concat(t)},sortable:!0},{name:"hc_low_limit",required:!0,label:"HC下限",align:"left",field:function(t){return t.hc_low_limit},style:"width:200px",format:function(t){return"".concat(t)},sortable:!0},{name:"advertising",required:!0,label:"市场费用",align:"left",field:function(t){return t.advertising},style:"width:200px",format:function(t){return"".concat(t)},sortable:!0},{name:"a_price",required:!0,label:"产品A价格",align:"left",field:function(t){return t.a_price},style:"width:200px",format:function(t){return"".concat(t)},sortable:!0},{name:"a_mean",required:!0,label:"产品A均价",align:"left",field:function(t){return t.a_mean},style:"width:200px",format:function(t){return"".concat(t)},sortable:!0},{name:"a_share",required:!0,label:"产品A份额",align:"left",field:function(t){return t.a_share},style:"width:200px",format:function(t){return"".concat(t)},sortable:!0},{name:"b_price",required:!0,label:"产品B价格",align:"left",field:function(t){return t.b_price},style:"width:200px",format:function(t){return"".concat(t)},sortable:!0},{name:"b_mean",required:!0,label:"产品B均价",align:"left",field:function(t){return t.b_mean},style:"width:200px",format:function(t){return"".concat(t)},sortable:!0},{name:"b_share",required:!0,label:"产品B份额",align:"left",field:function(t){return t.b_share},style:"width:200px",format:function(t){return"".concat(t)},sortable:!0},{name:"c_price",required:!0,label:"产品C价格",align:"left",field:function(t){return t.c_price},style:"width:200px",format:function(t){return"".concat(t)},sortable:!0},{name:"c_mean",required:!0,label:"产品C均价",align:"left",field:function(t){return t.c_mean},style:"width:200px",format:function(t){return"".concat(t)},sortable:!0},{name:"c_share",required:!0,label:"产品C份额",align:"left",field:function(t){return t.c_share},style:"width:200px",format:function(t){return"".concat(t)},sortable:!0},{name:"hc_strategy",required:!0,label:"HC决策",align:"left",field:function(t){return t.hc_strategy},style:"width:200px",format:function(t){return"".concat(t)},sortable:!0},{name:"advertising_strategy",required:!0,label:"市场费用决策",align:"left",field:function(t){return t.advertising_strategy},style:"width:200px",format:function(t){return"".concat(t)},sortable:!0},{name:"a_strategy",required:!0,label:"产品A价格决策",align:"left",field:function(t){return t.a_strategy},style:"width:200px",format:function(t){return"".concat(t)},sortable:!0},{name:"b_strategy",required:!0,label:"产品B价格决策",align:"left",field:function(t){return t.b_strategy},style:"width:200px",format:function(t){return"".concat(t)},sortable:!0},{name:"c_strategy",required:!0,label:"产品C价格决策",align:"left",field:function(t){return t.c_strategy},style:"width:200px",format:function(t){return"".concat(t)},sortable:!0},{name:"channel",required:!0,label:"渠道牌",align:"left",field:function(t){return t.channel},style:"width:200px",format:function(t){return"".concat(t)},sortable:!0},{name:"permission",required:!0,label:"准入牌",align:"left",field:function(t){return t.permission},style:"width:200px",format:function(t){return"".concat(t)},sortable:!0},{name:"info",required:!0,label:"信息牌",align:"left",field:function(t){return t.info},style:"width:200px",format:function(t){return"".concat(t)},sortable:!0}],data:[],original:[]}},mounted:function(){this.get_current_game(),this.onRequest({pagination:this.pagination,filter:this.filter})},methods:{onRequest:function(t){var e=this,o=t.pagination,n=o.page,r=o.rowsPerPage,a=o.sortBy,i=o.descending,c=t.filter;this.loading=!0,this.get_company_strategy(),setTimeout((function(){var t;e.pagination.rowsNumber=e.getRowsNumberCount(c);var o=0===r?e.pagination.rowsNumber:r,l=(n-1)*r,p=e.fetchFromServer(l,o,c,a,i);(t=e.data).splice.apply(t,[0,e.data.length].concat(s()(p))),e.pagination.page=n,e.pagination.rowsPerPage=r,e.pagination.sortBy=a,e.pagination.descending=i,e.loading=!1}),1500)},fetchFromServer:function(t,e,o,n,r){var a=o?this.original.filter((function(t){return t.account.includes(o)})):this.original.slice();if(n){var s="id"===n?r?function(t,e){return t.name>e.name?-1:t.name<e.name?1:0}:function(t,e){return t.name>e.name?1:t.name<e.name?-1:0}:r?function(t,e){return parseFloat(e[n])-parseFloat(t[n])}:function(t,e){return parseFloat(t[n])-parseFloat(e[n])};a.sort(s)}return a.slice(t,t+e)},getRowsNumberCount:function(t){if(!t)return this.original.length;var e=0;return this.original.forEach((function(o){o.account.includes(t)&&++e})),e},get_current_game:function(){var t=localStorage.getItem("current_game_id");this.game_id=Number(t);var e=localStorage.getItem("current_rounds");this.rounds=Number(e)},get_company_strategy:function(){this.original=[];var t=this;i["a"].GetCompanyData(this.game_id,this.company_id,this.rounds).then((function(e){for(var o=e.data,n=0;n<o.length;n++)t.original.push({name:o[n].name,operation_count:o[n].operation_count,hc_sensitivity:o[n].hc_sensitivity,advertising_sensitivity:o[n].advertising_sensitivity,price_sensitivity:o[n].price_sensitivity,share:o[n].share,share_visibility:o[n].share_visibility,total_share:o[n].total_share,last_share:o[n].last_share,share_change:o[n].share_change,share_change_ratio:o[n].share_change_ratio,hc:o[n].hc,hc_low_limit:o[n].hc_low_limit,advertising:o[n].advertising,a_price:o[n].a_price,a_mean:o[n].a_mean,a_share:o[n].a_share,b_price:o[n].b_price,b_mean:o[n].b_mean,b_share:o[n].b_share,c_price:o[n].c_price,c_mean:o[n].c_mean,c_share:o[n].c_share,last_operation_count:o[n].last_operation_count,current_operation_count:o[n].current_operation_count,operation_count_change:o[n].operation_count_change,operation_count_change_ratio:o[n].operation_count_change_ratio,hc_strategy:o[n].hc_strategy,advertising_strategy:o[n].advertising_strategy,a_strategy:o[n].a_strategy,b_strategy:o[n].b_strategy,c_strategy:o[n].c_strategy,channel:o[n].channel,permission:o[n].permission,info:o[n].info});t.int_parse()}))},all_check:function(){this.is_company_checked=!this.is_company_checked;var t={company_id:this.company_id,is_checked:this.is_company_checked,data:this.data};this.$emit("company_check",t)},enter_game:function(t){alert("进入游戏id:"+t)},commit:function(){alert("提交信息")},reset:function(){this.is_company_checked=!1},int_parse:function(){for(var t=0;t<this.original.length;t++){var e=this.original[t];e.hc=Number(e.hc).toFixed(1),e.advertising=Number(e.advertising).toFixed(2),e.a_price=Number(e.a_price).toFixed(2),e.a_share=Number(e.a_share).toFixed(2),e.b_price=Number(e.b_price).toFixed(2),e.b_share=Number(e.b_share).toFixed(2),e.c_price=Number(e.c_price).toFixed(2),e.c_share=Number(e.c_share).toFixed(2),e.hc_strategy=Number(e.hc_strategy).toFixed(1),e.operation_count=Math.round(e.operation_count),e.hc_sensitivity=Number(e.hc_sensitivity).toFixed(2),e.advertising_sensitivity=Number(e.advertising_sensitivity).toFixed(2),e.price_sensitivity=Number(e.price_sensitivity).toFixed(2),e.share=Number(e.share).toFixed(2),e.total_share=Number(e.total_share).toFixed(2),e.last_share=Number(e.last_share).toFixed(2),e.share_change=Number(e.share_change).toFixed(2),e.share_change_ratio=Number(e.share_change_ratio).toFixed(2),e.operation_count=Math.round(e.operation_count),e.last_operation_count=Math.round(e.last_operation_count),e.current_operation_count=Math.round(e.current_operation_count),e.operation_count_change=Math.round(e.operation_count_change),e.operation_count_change_ratio=Number(e.operation_count_change_ratio).toFixed(2)}}}}),u=p,_=(o("60d4"),o("72e0"),o("2877")),d=o("eaac"),f=o("9c40"),h=o("bd08"),m=o("05c0"),b=o("db86"),w=o("42a1"),y=o("27f9"),g=o("068f"),v=o("eebe"),q=o.n(v),k=Object(_["a"])(u,c,l,!1,null,"551a0688",null),x=k.exports;q()(k,"components",{QTable:d["a"],QBtn:f["a"],QTr:h["a"],QTooltip:m["a"],QTd:b["a"],QPopupEdit:w["a"],QInput:y["a"],QImg:g["a"]});var $={name:"Game_host",components:{Strategy:x},data:function(){return{host:"http://49.235.80.242/#/game_player?uuid=",is_commit_show:!1,current_round_started:!1,game_name:"default",rounds:1,player_rounds:0,game_id:1,company_ids:["a","b","c","d"],company_name:["Company A","Company B","Company C","Company D"],is_all_com_check:!1,is_company_checked:[{check:!1},{check:!1},{check:!1},{check:!1}],filter:"",loading:!1,pagination:{sortBy:"id",descending:!1,page:1,rowsPerPage:0,rowsNumber:10},columns:[{name:"name",required:!0,label:"公司名称",align:"left",field:function(t){return t.name},style:"width: 10px",headerStyle:"width: 10px",format:function(t){return"".concat(t)},sortable:!0},{name:"capital",required:!0,label:"总资金",align:"left",field:function(t){return t.capital},style:"width:100px",format:function(t){return"".concat(t)},sortable:!1},{name:"hc_limit",required:!1,label:"可分配人数",align:"left",field:function(t){return t.hc_limit},style:"width:100px",format:function(t){return"".concat(t)},sortable:!1},{name:"hc_price",required:!1,label:"人力成本",align:"left",field:function(t){return t.hc_price},style:"width:100px",format:function(t){return"".concat(t)},sortable:!1},{name:"channel_price",required:!0,label:"渠道牌价格",align:"left",field:function(t){return t.channel_price},style:"width:200px",format:function(t){return"".concat(t)},sortable:!0},{name:"channel",required:!0,label:"渠道牌剩余数量",align:"left",field:function(t){return t.channel},style:"width:200px",format:function(t){return"".concat(t)},sortable:!0},{name:"permission_price",required:!0,label:"准入牌价格",align:"left",field:function(t){return t.permission_price},style:"width:200px",format:function(t){return"".concat(t)},sortable:!0},{name:"permission",required:!0,label:"准入牌剩余数量",align:"left",field:function(t){return t.permission},style:"width:200px",format:function(t){return"".concat(t)},sortable:!0},{name:"info_price",required:!0,label:"信息牌价格",align:"left",field:function(t){return t.info_price},style:"width:200px",format:function(t){return"".concat(t)},sortable:!0},{name:"info",required:!0,label:"信息牌剩余数量",align:"left",field:function(t){return t.info},style:"width:200px",format:function(t){return"".concat(t)},sortable:!0},{name:"profit",required:!0,label:"营收",align:"left",field:function(t){return t.profit},style:"width:200px",format:function(t){return"".concat(t)},sortable:!0},{name:"last_profit",required:!0,label:"上轮营收",align:"left",field:function(t){return t.last_profit},style:"width:200px",format:function(t){return"".concat(t)},sortable:!0},{name:"total_profit",required:!0,label:"总营收",align:"left",field:function(t){return t.total_profit},style:"width:200px",format:function(t){return"".concat(t)},sortable:!0},{name:"profit_change",required:!0,label:"营收增长净值",align:"left",field:function(t){return t.profit_change},style:"width:200px",format:function(t){return"".concat(t)},sortable:!0},{name:"profit_change_ratio",required:!0,label:"营收增长比例",align:"left",field:function(t){return t.profit_change_ratio},style:"width:200px",format:function(t){return"".concat(t)},sortable:!0},{name:"vbp_price",required:!0,label:"VBP价格",align:"left",field:function(t){return t.vbp_price},style:"width:200px",format:function(t){return"".concat(t)},sortable:!0},{name:"vbp_share",required:!0,label:"VBP份额",align:"left",field:function(t){return t.vbp_share},style:"width:200px",format:function(t){return"".concat(t)},sortable:!0},{name:"a_cost",required:!0,label:"产品A成本",align:"left",field:function(t){return t.a_cost},style:"width:200px",format:function(t){return"".concat(t)},sortable:!0},{name:"b_cost",required:!0,label:"产品B成本",align:"left",field:function(t){return t.b_cost},style:"width:200px",format:function(t){return"".concat(t)},sortable:!0},{name:"c_cost",required:!0,label:"产品C成本",align:"left",field:function(t){return t.c_cost},style:"width:200px",format:function(t){return"".concat(t)},sortable:!0},{name:"total_investment",required:!0,label:"总资金投入",align:"left",field:function(t){return t.total_investment},style:"width:200px",format:function(t){return"".concat(t)},sortable:!0},{name:"total_cost",required:!0,label:"总生产成本",align:"left",field:function(t){return t.total_cost},style:"width:200px",format:function(t){return"".concat(t)},sortable:!0}],uuid:[],data:[],data_a:[],data_b:[],data_c:[],data_d:[],original:[]}},mounted:function(){this.get_current_game()},watch:{},methods:{onRequest:function(t){var e=this,o=t.pagination,n=o.page,r=o.rowsPerPage,a=o.sortBy,i=o.descending,c=t.filter;this.loading=!0,this.get_company_info(),setTimeout((function(){var t;e.pagination.rowsNumber=e.getRowsNumberCount(c);var o=0===r?e.pagination.rowsNumber:r,l=(n-1)*r,p=e.fetchFromServer(l,o,c,a,i);(t=e.data).splice.apply(t,[0,e.data.length].concat(s()(p))),e.pagination.page=n,e.pagination.rowsPerPage=r,e.pagination.sortBy=a,e.pagination.descending=i,e.loading=!1}),1500)},fetchFromServer:function(t,e,o,n,r){var a=o?this.original.filter((function(t){return t.account.includes(o)})):this.original.slice();if(n){var s="id"===n?r?function(t,e){return t.name>e.name?-1:t.name<e.name?1:0}:function(t,e){return t.name>e.name?1:t.name<e.name?-1:0}:r?function(t,e){return parseFloat(e[n])-parseFloat(t[n])}:function(t,e){return parseFloat(t[n])-parseFloat(e[n])};a.sort(s)}return a.slice(t,t+e)},getRowsNumberCount:function(t){if(!t)return this.original.length;var e=0;return this.original.forEach((function(o){o.account.includes(t)&&++e})),e},get_company_info:function(){this.original=[];var t=this;i["a"].GetCompanyInfo(this.game_id,this.rounds).then((function(e){for(var o=e.data,n=0;n<o.length;n++)t.original.push({name:o[n].name,capital:o[n].capital,hc_limit:o[n].hc_limit,hc_price:o[n].hc_price,channel_price:o[n].channel_price,channel:o[n].channel,permission_price:o[n].permission_price,permission:o[n].permission,info_price:o[n].info_price,info:o[n].info,profit:o[n].profit,last_profit:o[n].last_profit,total_profit:o[n].total_profit,profit_change:o[n].profit_change,profit_change_ratio:o[n].profit_change_ratio,vbp_price:o[n].vbp_price,vbp_share:o[n].vbp_share,a_cost:o[n].a_cost,b_cost:o[n].b_cost,c_cost:o[n].c_cost,total_investment:o[n].total_investment,total_cost:o[n].total_cost})}))},get_current_game:function(){var t=this,e=this,o=localStorage.getItem("current_game_id");this.game_id=Number(o),i["a"].GetGameInfo(this.game_id).then((function(o){var n=o.data;console.log(n),e.rounds=n["rounds"],e.player_rounds=n["player_rounds"],t.$store.commit("current_game/updateCurrentRounds",n.rounds),e.uuid.push(e.host+n.a_uuid),e.uuid.push(e.host+n.b_uuid),e.uuid.push(e.host+n.c_uuid),e.uuid.push(e.host+n.d_uuid),e.game_name=n["name"],e.player_rounds>=e.rounds&&(e.current_round_started=!0),t.onRequest({pagination:t.pagination,filter:t.filter})}))},next:function(){var t=this,e=[this.data,this.data_a,this.data_b,this.data_c,this.data_d];i["a"].Next(this.game_id,e).then((function(e){t.reset(),t.get_current_game(),t.$q.notify({message:"提交成功",type:"positive",textColor:"white",position:"top"})}))},reset:function(){var t=this;this.is_all_com_check=!1;for(var e=0;e<this.is_company_checked.length;e++)t.is_company_checked[e].check=!1},start_this_round:function(){var t=[this.data,this.data_a,this.data_b,this.data_c,this.data_d];console.log(t),i["a"].Start(this.game_id,t).then((function(t){location.reload()}))},company_check:function(t){var e=t.company_id,o=t.is_checked,n=t.data,r=0;switch(e){case"a":r=0,this.data_a=n,console.log(this.data_a);break;case"b":r=1,this.data_b=n;break;case"c":r=2,this.data_c=n;break;case"d":r=3,this.data_d=n;break;default:break}this.is_company_checked[r].check=o,this.is_all_check()},is_ok_to_commit:function(){return!(!this.is_all_com_check||!this.current_round_started)},is_ok_to_start:function(){return!(!this.is_all_com_check||this.current_round_started)},is_all_check:function(){for(var t=this,e=1,o=0;o<this.is_company_checked.length;o++)e*=t.is_company_checked[o].check;t.is_all_com_check=1==e}}},C=$,U=(o("92df"),o("f09f")),N=o("4b7e"),F=o("0016"),S=o("3b73"),B=o("a370"),P=o("24e8"),Q=o("7f67"),I=Object(_["a"])(C,n,r,!1,null,"3859d1d3",null);e["default"]=I.exports;q()(I,"components",{QCard:U["a"],QImg:g["a"],QCardActions:N["a"],QBtn:f["a"],QTable:d["a"],QInput:y["a"],QIcon:F["a"],QTr:h["a"],QTd:b["a"],QPopupEdit:w["a"],QExpansionItem:S["a"],QCardSection:B["a"],QDialog:P["a"]}),q()(I,"directives",{ClosePopup:Q["a"]})},"92df":function(t,e,o){"use strict";var n=o("e052"),r=o.n(n);r.a},"9d62":function(t,e,o){},a417:function(t,e,o){"use strict";o("d3b7"),o("e6cf");var n=o("970b"),r=o.n(n),a=o("5bc3"),s=o.n(a),i=o("bc3a"),c=o.n(i),l=(o("a18c"),o("2a19")),p=function(){function t(e,o){r()(this,t),this.url=e,this.timeout=o,this.instance=c.a.create({baseURL:this.url,timeout:this.timeout,headers:{"Content-Type":"application/json;charset=UTF-8",Authorization:localStorage.getItem("Authorization")}}),this.instance.interceptors.request.use((function(t){return t.headers.Authorization=localStorage.getItem("Authorization"),t}),(function(t){return Promise.reject(t)})),this.instance.interceptors.response.use((function(t){switch(t.data.code){case 200:console.log("尝试获取信息");break;case 403:console.log("权限不足,权限不足"),window.router.push("/login"),l["a"].create({message:"权限不足，请登录后尝试",type:"negative",textColor:"white",position:"top"});break;case 600:l["a"].create({message:"表单信息错误",type:"negative",textColor:"white",position:"top"});break;case 601:l["a"].create({message:"用户名重复",type:"negative",textColor:"white",position:"top"});break;case 602:l["a"].create({message:"登录失败",type:"negative",textColor:"white",position:"top"});break}return t.data}),(function(t){return Promise.reject(t)}))}return s()(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.instance.get(t,e)}},{key:"post",value:function(t,e){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.instance.post(t,e,o)}},{key:"upload",value:function(t,e){return this.instance.post(t,e,{headers:{"Content-Type":"multipart/form-data"}})}},{key:"put",value:function(t,e){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.instance.put(t,e,o)}},{key:"delete",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.instance.delete(t,e)}}]),t}();e["a"]=p},e052:function(t,e,o){}}]);